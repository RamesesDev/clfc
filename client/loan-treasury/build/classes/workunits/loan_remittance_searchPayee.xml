<workunit>
    <invokers>        
        <invoker type="collection:findPayee" caption="Search Payee" target="popup"/>         
        <!--
        <invoker type="formActions" action="Ok"     caption="Ok and continue" mnemonic="o" tooltip="OK and Continue" visibleWhen="#{mode=='create'}"/>
        <invoker type="formActions" action="_close" caption="Cancel" mnemonic="c" tooltip="Cancel" immediate="true" visibleWhen="#{mode=='create'}"/>
        -->
    </invokers>
    <code> 
        <![CDATA[
        import com.rameses.rcp.annotations.*;
        import com.rameses.rcp.common.*;
        import com.rameses.osiris2.client.*;
        
        class LoanRemittanceSearchPayeeController{
            @Service("LoanRemittanceService")
            def svc;
            
            @Service("LoanCollectionSheetService")
            def colSheetSvc;

            @Service( "LoanApplicationSearchService" )
            def searchSvc;
            
            def selected;
            def searchText;
            def selectHandler;
            //def payeeHandler;
            def entity=[:];
            def filter=[:];
            def searchPayee;
            def mode="create";
            
            def find(){
                /*
                if( !selected )
                    throw new Exception('No item selected.');
                    
                if(selectHandler)selectHandler(selected);
                return "_close";
                */
                if( searchText==null || !searchText){
                    MsgBox.alert("Nothing to Find");
                    return;
                }else return "_close";
            }
            
            def searchPayee(){
                if( searchText==null || !searchText){
                    MsgBox.alert("Nothing to Find");
                    return;
                }else return "_close";
            }
        }    
        ]]>
    </code>
    <pages>
        <page template="loantreasury.remittance.field.LoanRemittanceSearchPayee"/>
    </pages>    
</workunit>